---
import BaseHead from "../components/BaseHeadComponent.astro";
import Footer from "../components/FooterComponent.astro";

import Logo from "../components/LogoComponent.tsx";

import EstaWeb from "../components/EstaWebComponent.tsx";

import Cols from "../components/ColsComponent.tsx";
import Menu from "../components/MenuHorizontalComponent.astro";
import IntroLinks from "../components/IntroLinksComponent.astro";
import Fronts from "../components/FrontsComponent.astro";
import WelcomeCurtain from "../components/WelcomeCurtainComponent.astro";

import { getCollection } from "astro:content"; // Usamos la API de contenido de Astro
import GlobeBackgroundComponent from "../components/GlobeBackgroundComponent.astro";
const posts = (await getCollection("blog"))
  .sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
  .slice(0, 15);

//const { titulo } = Astro.props;
---

<!doctype html>
<html lang="es" class="w-100 overflow-x-hidden">
  <head>
    <BaseHead title="Sergio🙋 『CØMO』『VAS』" description="Página Principal" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  </head>
  <body>
    <!-- Telón de bienvenida solo en la página principal -->
    <WelcomeCurtain mensaje="¡Bienvenido a COMOVAS!" />
    
    <Menu />

    <slot />

    <GlobeBackgroundComponent />

    <div class="mb-10"><EstaWeb client:only /></div>

    <main class="-mt-20 md:-mt-40">
      <Cols posts={posts} client:only />
    </main>
    <Fronts />
    <IntroLinks />

    <Footer />
    <script is:inline src="../scripts/hscroll.js"></script>
  </body>
</html>